#!/bin/bash
#
# This might be better off as a systemd unit with an execstart/stop and timer
#
# Goal: when starting focus mode, close distracting apps, add /etc/hosts entries for reddit etc, and go to grayscale
#       while running focus mode, kill discord etc after 5 minutes
#       when stopping focus mode, remove hosts entries, stop grayscale

set -e

# Figure out if we are in focus mode

if [[ $(dunstctl is-paused) ~= "false" ]]; then
    # Start focus mode
    dunstctl set-paused true
    killall Discord
else
    # Stop focus mode
    dunstctl set-paused false
fi
